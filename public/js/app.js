var calculator=function(){var n=15,c=!0,a="",t={},e=$(".calculator__display > p");function l(){a=""}function o(){0<arguments.length?e.text(arguments[0]):0===a.length?e.text("0"):e.text(a)}return t.power=function(){c=!c,$("#display").toggleClass("calculator__display--on"),this.clear()},t.clear=function(){l(),o()},t.input=function(t){c&&/[0-9\+\.\*\/=-]/gi.test(t)&&(!function(t){if(a.length<n)a+=t}(t),o())},t.calculate=function(){if(c)try{var t=new Function("return "+a+";")();if(777==t)return o("Carl Hain"),0;var e=(t=t.toString()).length;n<e&&(t=t.slice(0,e+2-n)),this.clear(),this.input(t)}catch(t){l(),o("ERROR")}},t}();$("document").ready(function(){registerMoveableObject(document.getElementById("calculator")),$(".calculator__display > p").text("0"),$(".calculator__btn").on("click",function(t){var e=t.target.value;"ce"===e?calculator.clear():"ac"===e?calculator.power():"="===e?calculator.calculate():calculator.input(e)}),$("body").on("keypress",function(t){var e=t.key.toLowerCase();console.log(t),"a"===e?calculator.power():"c"===e?calculator.clear():"="===e||"enter"===e?calculator.calculate():calculator.input(e)})});"use strict";function registerMoveableObject(u,s){var d,f,n,v,p=u.offsetWidth,g=u.offsetHeight,m=u.parentElement;return u.addEventListener("mousedown",function(t){var e=u.getBoundingClientRect();d=t.clientX-e.left,f=t.clientY-e.top,n=u.style.zIndex,u.style.zIndex=1e3,u.classList.add("can-move"),t.preventDefault()}),u.addEventListener("mouseup",function(t){u.style.zIndex=n,n=1,u.classList.remove("can-move"),t.preventDefault()}),m.addEventListener("mouseleave",function(t){t.preventDefault(),u.classList.contains("can-move")&&(u.style.zIndex=n,n=1,u.classList.remove("can-move"))}),document.body.addEventListener("mousemove",function(t){v||(v=window.requestAnimationFrame(function(t,e){if(u.classList.contains("can-move")){var n=m.getBoundingClientRect(),c=n.width-p,a=n.height-g,l=n.left,o=n.top,i=t.clientX-d-l,r=t.clientY-f-o;(0<=i&&i<=c||!s)&&(u.style.left=i+"px"),(0<=r&&r<=a||!s)&&(u.style.top=r+"px")}v=null}.bind(null,t)))}),u}